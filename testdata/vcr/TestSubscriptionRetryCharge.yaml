---
version: 1
interactions:
- request:
    body: |-
      <transaction>
        <type>sale</type>
        <subscription-id>9h75hg</subscription-id>
        <amount>.10</amount>
        <options>
          <submit-for-settlement>true</submit-for-settlement>
        </options>
      </transaction>
    form: {}
    headers:
      Accept:
      - application/xml
      Authorization:
      - Basic amtxMjhwY3hqNHI4NWR3cjo2NjA2MmEzODc2ZTJkYzI5OGYyMTk1ZjBiZjE3M2Y1YQ==
      Content-Type:
      - application/xml
      User-Agent:
      - Braintree Go 0.20.0
      X-Apiversion:
      - "3"
    url: https://api.sandbox.braintreegateway.com:443/merchants/4ngqq224rnk6gvxh/transactions
    method: POST
  response:
    body: |
      <?xml version="1.0" encoding="UTF-8"?>
      <api-error-response>
        <errors>
          <errors type="array"/>
          <transaction>
            <errors type="array">
              <error>
                <code>91531</code>
                <attribute type="symbol">base</attribute>
                <message>Subscription status must be Past Due in order to retry.</message>
              </error>
            </errors>
          </transaction>
        </errors>
        <params>
          <transaction>
            <type>sale</type>
            <subscription-id>9h75hg</subscription-id>
            <amount>.10</amount>
            <options>
              <submit-for-settlement>true</submit-for-settlement>
            </options>
          </transaction>
        </params>
        <message>Subscription status must be Past Due in order to retry.</message>
      </api-error-response>
    headers:
      Cache-Control:
      - no-cache
      Content-Security-Policy:
      - frame-ancestors 'self'
      Content-Type:
      - application/xml; charset=utf-8
      Date:
      - Thu, 23 Aug 2018 05:34:51 GMT
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains
      Vary:
      - Accept-Encoding
      X-Authentication:
      - basic_auth
      X-Broxyid:
      - 02-1535002490.846-107.3.151.90-6932839
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - SAMEORIGIN
      X-Request-Id:
      - 02-1535002490.846-107.3.151.90-6932839
      X-Runtime:
      - "0.409533"
      X-User:
      - kkf6b66dz8xy83p6
      X-Xss-Protection:
      - 1; mode=block
    status: 422 Unprocessable Entity
    code: 422
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      Accept:
      - application/xml
      Authorization:
      - Basic amtxMjhwY3hqNHI4NWR3cjo2NjA2MmEzODc2ZTJkYzI5OGYyMTk1ZjBiZjE3M2Y1YQ==
      Content-Type:
      - application/xml
      User-Agent:
      - Braintree Go 0.20.0
      X-Apiversion:
      - "3"
    url: https://api.sandbox.braintreegateway.com:443/merchants/4ngqq224rnk6gvxh/subscriptions/9h75hg/cancel
    method: PUT
  response:
    body: |
      <?xml version="1.0" encoding="UTF-8"?>
      <subscription>
        <add-ons type="array">
          <add-on>
            <amount>10.00</amount>
            <current-billing-cycle type="integer">1</current-billing-cycle>
            <id>test_add_on</id>
            <name>test_add_on_name</name>
            <never-expires type="boolean">true</never-expires>
            <number-of-billing-cycles nil="true"/>
            <quantity type="integer">1</quantity>
          </add-on>
        </add-ons>
        <balance>0.00</balance>
        <billing-day-of-month type="integer">23</billing-day-of-month>
        <billing-period-end-date type="date">2018-09-22</billing-period-end-date>
        <billing-period-start-date type="date">2018-08-23</billing-period-start-date>
        <created-at type="datetime">2018-08-23T05:34:50Z</created-at>
        <updated-at type="datetime">2018-08-23T05:34:51Z</updated-at>
        <current-billing-cycle type="integer">1</current-billing-cycle>
        <days-past-due nil="true"/>
        <discounts type="array">
          <discount>
            <amount>10.00</amount>
            <current-billing-cycle type="integer">1</current-billing-cycle>
            <id>test_discount</id>
            <name>test_discount_name</name>
            <never-expires type="boolean">true</never-expires>
            <number-of-billing-cycles nil="true"/>
            <quantity type="integer">1</quantity>
          </discount>
        </discounts>
        <failure-count type="integer">0</failure-count>
        <first-billing-date type="date">2018-08-23</first-billing-date>
        <id>9h75hg</id>
        <merchant-account-id>bvps8ckgst59crzs</merchant-account-id>
        <never-expires type="boolean">false</never-expires>
        <next-bill-amount>1.00</next-bill-amount>
        <next-billing-period-amount>1.00</next-billing-period-amount>
        <next-billing-date type="date">2018-09-23</next-billing-date>
        <number-of-billing-cycles type="integer">2</number-of-billing-cycles>
        <paid-through-date type="date">2018-09-22</paid-through-date>
        <payment-method-token>4ytysh</payment-method-token>
        <plan-id>test_plan</plan-id>
        <price>1.00</price>
        <status>Canceled</status>
        <trial-duration nil="true"/>
        <trial-duration-unit nil="true"/>
        <trial-period type="boolean">false</trial-period>
        <descriptor>
          <name nil="true"/>
          <phone nil="true"/>
          <url nil="true"/>
        </descriptor>
        <description nil="true"/>
        <transactions type="array">
          <transaction>
            <id>27pyabp7</id>
            <status>submitted_for_settlement</status>
            <type>sale</type>
            <currency-iso-code>USD</currency-iso-code>
            <amount>1.00</amount>
            <merchant-account-id>bvps8ckgst59crzs</merchant-account-id>
            <sub-merchant-account-id nil="true"/>
            <master-merchant-account-id nil="true"/>
            <order-id nil="true"/>
            <created-at type="datetime">2018-08-23T05:34:49Z</created-at>
            <updated-at type="datetime">2018-08-23T05:34:50Z</updated-at>
            <customer>
              <id>125212251</id>
              <first-name nil="true"/>
              <last-name nil="true"/>
              <company nil="true"/>
              <email nil="true"/>
              <website nil="true"/>
              <phone nil="true"/>
              <fax nil="true"/>
            </customer>
            <billing>
              <id>b7</id>
              <first-name nil="true"/>
              <last-name nil="true"/>
              <company nil="true"/>
              <street-address nil="true"/>
              <extended-address nil="true"/>
              <locality nil="true"/>
              <region nil="true"/>
              <postal-code>94107</postal-code>
              <country-name nil="true"/>
              <country-code-alpha2 nil="true"/>
              <country-code-alpha3 nil="true"/>
              <country-code-numeric nil="true"/>
            </billing>
            <refund-id nil="true"/>
            <refund-ids type="array"/>
            <refunded-transaction-id nil="true"/>
            <partial-settlement-transaction-ids type="array"/>
            <authorized-transaction-id nil="true"/>
            <settlement-batch-id nil="true"/>
            <shipping>
              <id nil="true"/>
              <first-name nil="true"/>
              <last-name nil="true"/>
              <company nil="true"/>
              <street-address nil="true"/>
              <extended-address nil="true"/>
              <locality nil="true"/>
              <region nil="true"/>
              <postal-code nil="true"/>
              <country-name nil="true"/>
              <country-code-alpha2 nil="true"/>
              <country-code-alpha3 nil="true"/>
              <country-code-numeric nil="true"/>
            </shipping>
            <custom-fields/>
            <avs-error-response-code nil="true"/>
            <avs-postal-code-response-code>M</avs-postal-code-response-code>
            <avs-street-address-response-code>I</avs-street-address-response-code>
            <cvv-response-code>I</cvv-response-code>
            <gateway-rejection-reason nil="true"/>
            <processor-authorization-code>N6TQ0S</processor-authorization-code>
            <processor-response-code>1000</processor-response-code>
            <processor-response-text>Approved</processor-response-text>
            <additional-processor-response nil="true"/>
            <voice-referral-number nil="true"/>
            <purchase-order-number nil="true"/>
            <tax-amount nil="true"/>
            <tax-exempt type="boolean">false</tax-exempt>
            <credit-card>
              <token>4ytysh</token>
              <bin>401288</bin>
              <last-4>1881</last-4>
              <card-type>Visa</card-type>
              <expiration-month>12</expiration-month>
              <expiration-year>2019</expiration-year>
              <customer-location>US</customer-location>
              <cardholder-name nil="true"/>
              <image-url>https://assets.braintreegateway.com/payment_method_logo/visa.png?environment=sandbox</image-url>
              <prepaid>No</prepaid>
              <healthcare>Unknown</healthcare>
              <debit>Unknown</debit>
              <durbin-regulated>Unknown</durbin-regulated>
              <commercial>Unknown</commercial>
              <payroll>Unknown</payroll>
              <issuing-bank>Unknown</issuing-bank>
              <country-of-issuance>Unknown</country-of-issuance>
              <product-id>Unknown</product-id>
              <unique-number-identifier>7548503e80b587eb6a3be7487aed7c94</unique-number-identifier>
              <venmo-sdk type="boolean">false</venmo-sdk>
            </credit-card>
            <status-history type="array">
              <status-event>
                <timestamp type="datetime">2018-08-23T05:34:50Z</timestamp>
                <status>authorized</status>
                <amount>1.00</amount>
                <user>Braintree-Go</user>
                <transaction-source>recurring</transaction-source>
              </status-event>
              <status-event>
                <timestamp type="datetime">2018-08-23T05:34:50Z</timestamp>
                <status>submitted_for_settlement</status>
                <amount>1.00</amount>
                <user>Braintree-Go</user>
                <transaction-source>recurring</transaction-source>
              </status-event>
            </status-history>
            <plan-id>test_plan</plan-id>
            <subscription-id>9h75hg</subscription-id>
            <subscription>
              <billing-period-end-date type="date">2018-09-22</billing-period-end-date>
              <billing-period-start-date type="date">2018-08-23</billing-period-start-date>
            </subscription>
            <add-ons type="array">
              <add-on>
                <amount>10.00</amount>
                <current-billing-cycle type="integer">1</current-billing-cycle>
                <id>test_add_on</id>
                <name>test_add_on_name</name>
                <never-expires type="boolean">true</never-expires>
                <number-of-billing-cycles nil="true"/>
                <quantity type="integer">1</quantity>
              </add-on>
            </add-ons>
            <discounts type="array">
              <discount>
                <amount>10.00</amount>
                <current-billing-cycle type="integer">1</current-billing-cycle>
                <id>test_discount</id>
                <name>test_discount_name</name>
                <never-expires type="boolean">true</never-expires>
                <number-of-billing-cycles nil="true"/>
                <quantity type="integer">1</quantity>
              </discount>
            </discounts>
            <descriptor>
              <name nil="true"/>
              <phone nil="true"/>
              <url nil="true"/>
            </descriptor>
            <recurring type="boolean">true</recurring>
            <channel nil="true"/>
            <service-fee-amount nil="true"/>
            <escrow-status nil="true"/>
            <disbursement-details>
              <disbursement-date nil="true"/>
              <settlement-amount nil="true"/>
              <settlement-currency-iso-code nil="true"/>
              <settlement-currency-exchange-rate nil="true"/>
              <funds-held nil="true"/>
              <success nil="true"/>
            </disbursement-details>
            <disputes type="array"/>
            <authorization-adjustments type="array"/>
            <payment-instrument-type>credit_card</payment-instrument-type>
            <processor-settlement-response-code></processor-settlement-response-code>
            <processor-settlement-response-text></processor-settlement-response-text>
            <risk-data>
              <id>7X8H0ZXX84C2</id>
              <decision>Approve</decision>
              <device-data-captured type="boolean">false</device-data-captured>
            </risk-data>
            <three-d-secure-info nil="true"/>
            <ships-from-postal-code nil="true"/>
            <shipping-amount nil="true"/>
            <discount-amount nil="true"/>
            <network-transaction-id>020180823053450</network-transaction-id>
          </transaction>
        </transactions>
        <status-history type="array">
          <status-event>
            <timestamp type="datetime">2018-08-23T05:34:51Z</timestamp>
            <status>Canceled</status>
            <user>Braintree-Go</user>
            <subscription-source>api</subscription-source>
            <balance>0.00</balance>
            <price>1.00</price>
            <currency-iso-code>USD</currency-iso-code>
            <plan-id>test_plan</plan-id>
          </status-event>
          <status-event>
            <timestamp type="datetime">2018-08-23T05:34:50Z</timestamp>
            <status>Active</status>
            <user>Braintree-Go</user>
            <subscription-source>api</subscription-source>
            <balance>0.00</balance>
            <price>1.00</price>
            <currency-iso-code>USD</currency-iso-code>
            <plan-id>test_plan</plan-id>
          </status-event>
        </status-history>
      </subscription>
    headers:
      Cache-Control:
      - max-age=0, private, must-revalidate
      Content-Security-Policy:
      - frame-ancestors 'self'
      Content-Type:
      - application/xml; charset=utf-8
      Date:
      - Thu, 23 Aug 2018 05:34:51 GMT
      Etag:
      - W/"3ae4583a145441b5b2cdb53a8c6e8eb1"
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains
      Vary:
      - Accept-Encoding
      X-Authentication:
      - basic_auth
      X-Broxyid:
      - 02-1535002491.283-107.3.151.90-6932883
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - SAMEORIGIN
      X-Request-Id:
      - 02-1535002491.283-107.3.151.90-6932883
      X-Runtime:
      - "0.561621"
      X-User:
      - kkf6b66dz8xy83p6
      X-Xss-Protection:
      - 1; mode=block
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      Accept:
      - application/xml
      Authorization:
      - Basic amtxMjhwY3hqNHI4NWR3cjo2NjA2MmEzODc2ZTJkYzI5OGYyMTk1ZjBiZjE3M2Y1YQ==
      Content-Type:
      - application/xml
      User-Agent:
      - Braintree Go 0.20.0
      X-Apiversion:
      - "3"
    url: https://api.sandbox.braintreegateway.com:443/merchants/4ngqq224rnk6gvxh/subscriptions/6bh942
    method: GET
  response:
    body: |
      <?xml version="1.0" encoding="UTF-8"?>
      <subscription>
        <add-ons type="array">
          <add-on>
            <amount>10.00</amount>
            <current-billing-cycle type="integer">1</current-billing-cycle>
            <id>test_add_on</id>
            <name>test_add_on_name</name>
            <never-expires type="boolean">true</never-expires>
            <number-of-billing-cycles nil="true"/>
            <quantity type="integer">1</quantity>
          </add-on>
        </add-ons>
        <balance>0.00</balance>
        <billing-day-of-month type="integer">23</billing-day-of-month>
        <billing-period-end-date type="date">2018-09-22</billing-period-end-date>
        <billing-period-start-date type="date">2018-08-23</billing-period-start-date>
        <created-at type="datetime">2018-08-23T05:34:51Z</created-at>
        <updated-at type="datetime">2018-08-23T05:34:51Z</updated-at>
        <current-billing-cycle type="integer">1</current-billing-cycle>
        <days-past-due nil="true"/>
        <discounts type="array">
          <discount>
            <amount>10.00</amount>
            <current-billing-cycle type="integer">1</current-billing-cycle>
            <id>test_discount</id>
            <name>test_discount_name</name>
            <never-expires type="boolean">true</never-expires>
            <number-of-billing-cycles nil="true"/>
            <quantity type="integer">1</quantity>
          </discount>
        </discounts>
        <failure-count type="integer">0</failure-count>
        <first-billing-date type="date">2018-08-23</first-billing-date>
        <id>6bh942</id>
        <merchant-account-id>bvps8ckgst59crzs</merchant-account-id>
        <never-expires type="boolean">false</never-expires>
        <next-bill-amount>10.00</next-bill-amount>
        <next-billing-period-amount>10.00</next-billing-period-amount>
        <next-billing-date type="date">2018-09-23</next-billing-date>
        <number-of-billing-cycles type="integer">2</number-of-billing-cycles>
        <paid-through-date type="date">2018-09-22</paid-through-date>
        <payment-method-token>ds74vs</payment-method-token>
        <plan-id>test_plan</plan-id>
        <price>10.00</price>
        <status>Active</status>
        <trial-duration nil="true"/>
        <trial-duration-unit nil="true"/>
        <trial-period type="boolean">false</trial-period>
        <descriptor>
          <name nil="true"/>
          <phone nil="true"/>
          <url nil="true"/>
        </descriptor>
        <description nil="true"/>
        <transactions type="array">
          <transaction>
            <id>h1zf7crj</id>
            <status>submitted_for_settlement</status>
            <type>sale</type>
            <currency-iso-code>USD</currency-iso-code>
            <amount>10.00</amount>
            <merchant-account-id>bvps8ckgst59crzs</merchant-account-id>
            <sub-merchant-account-id nil="true"/>
            <master-merchant-account-id nil="true"/>
            <order-id nil="true"/>
            <created-at type="datetime">2018-08-23T05:34:50Z</created-at>
            <updated-at type="datetime">2018-08-23T05:34:51Z</updated-at>
            <customer>
              <id>218034099</id>
              <first-name nil="true"/>
              <last-name nil="true"/>
              <company nil="true"/>
              <email nil="true"/>
              <website nil="true"/>
              <phone nil="true"/>
              <fax nil="true"/>
            </customer>
            <billing>
              <id>km</id>
              <first-name nil="true"/>
              <last-name nil="true"/>
              <company nil="true"/>
              <street-address nil="true"/>
              <extended-address nil="true"/>
              <locality nil="true"/>
              <region nil="true"/>
              <postal-code>94107</postal-code>
              <country-name nil="true"/>
              <country-code-alpha2 nil="true"/>
              <country-code-alpha3 nil="true"/>
              <country-code-numeric nil="true"/>
            </billing>
            <refund-id nil="true"/>
            <refund-ids type="array"/>
            <refunded-transaction-id nil="true"/>
            <partial-settlement-transaction-ids type="array"/>
            <authorized-transaction-id nil="true"/>
            <settlement-batch-id nil="true"/>
            <shipping>
              <id nil="true"/>
              <first-name nil="true"/>
              <last-name nil="true"/>
              <company nil="true"/>
              <street-address nil="true"/>
              <extended-address nil="true"/>
              <locality nil="true"/>
              <region nil="true"/>
              <postal-code nil="true"/>
              <country-name nil="true"/>
              <country-code-alpha2 nil="true"/>
              <country-code-alpha3 nil="true"/>
              <country-code-numeric nil="true"/>
            </shipping>
            <custom-fields/>
            <avs-error-response-code nil="true"/>
            <avs-postal-code-response-code>M</avs-postal-code-response-code>
            <avs-street-address-response-code>I</avs-street-address-response-code>
            <cvv-response-code>I</cvv-response-code>
            <gateway-rejection-reason nil="true"/>
            <processor-authorization-code>VH1Y4X</processor-authorization-code>
            <processor-response-code>1000</processor-response-code>
            <processor-response-text>Approved</processor-response-text>
            <additional-processor-response nil="true"/>
            <voice-referral-number nil="true"/>
            <purchase-order-number nil="true"/>
            <tax-amount nil="true"/>
            <tax-exempt type="boolean">false</tax-exempt>
            <credit-card>
              <token>ds74vs</token>
              <bin>401288</bin>
              <last-4>1881</last-4>
              <card-type>Visa</card-type>
              <expiration-month>12</expiration-month>
              <expiration-year>2019</expiration-year>
              <customer-location>US</customer-location>
              <cardholder-name nil="true"/>
              <image-url>https://assets.braintreegateway.com/payment_method_logo/visa.png?environment=sandbox</image-url>
              <prepaid>No</prepaid>
              <healthcare>Unknown</healthcare>
              <debit>Unknown</debit>
              <durbin-regulated>Unknown</durbin-regulated>
              <commercial>Unknown</commercial>
              <payroll>Unknown</payroll>
              <issuing-bank>Unknown</issuing-bank>
              <country-of-issuance>Unknown</country-of-issuance>
              <product-id>Unknown</product-id>
              <unique-number-identifier>7548503e80b587eb6a3be7487aed7c94</unique-number-identifier>
              <venmo-sdk type="boolean">false</venmo-sdk>
            </credit-card>
            <status-history type="array">
              <status-event>
                <timestamp type="datetime">2018-08-23T05:34:51Z</timestamp>
                <status>authorized</status>
                <amount>10.00</amount>
                <user>Braintree-Go</user>
                <transaction-source>recurring</transaction-source>
              </status-event>
              <status-event>
                <timestamp type="datetime">2018-08-23T05:34:51Z</timestamp>
                <status>submitted_for_settlement</status>
                <amount>10.00</amount>
                <user>Braintree-Go</user>
                <transaction-source>recurring</transaction-source>
              </status-event>
            </status-history>
            <plan-id>test_plan</plan-id>
            <subscription-id>6bh942</subscription-id>
            <subscription>
              <billing-period-end-date type="date">2018-09-22</billing-period-end-date>
              <billing-period-start-date type="date">2018-08-23</billing-period-start-date>
            </subscription>
            <add-ons type="array">
              <add-on>
                <amount>10.00</amount>
                <current-billing-cycle type="integer">1</current-billing-cycle>
                <id>test_add_on</id>
                <name>test_add_on_name</name>
                <never-expires type="boolean">true</never-expires>
                <number-of-billing-cycles nil="true"/>
                <quantity type="integer">1</quantity>
              </add-on>
            </add-ons>
            <discounts type="array">
              <discount>
                <amount>10.00</amount>
                <current-billing-cycle type="integer">1</current-billing-cycle>
                <id>test_discount</id>
                <name>test_discount_name</name>
                <never-expires type="boolean">true</never-expires>
                <number-of-billing-cycles nil="true"/>
                <quantity type="integer">1</quantity>
              </discount>
            </discounts>
            <descriptor>
              <name nil="true"/>
              <phone nil="true"/>
              <url nil="true"/>
            </descriptor>
            <recurring type="boolean">true</recurring>
            <channel nil="true"/>
            <service-fee-amount nil="true"/>
            <escrow-status nil="true"/>
            <disbursement-details>
              <disbursement-date nil="true"/>
              <settlement-amount nil="true"/>
              <settlement-currency-iso-code nil="true"/>
              <settlement-currency-exchange-rate nil="true"/>
              <funds-held nil="true"/>
              <success nil="true"/>
            </disbursement-details>
            <disputes type="array"/>
            <authorization-adjustments type="array"/>
            <payment-instrument-type>credit_card</payment-instrument-type>
            <processor-settlement-response-code></processor-settlement-response-code>
            <processor-settlement-response-text></processor-settlement-response-text>
            <risk-data>
              <id>7X8H06K0RLLW</id>
              <decision>Approve</decision>
              <device-data-captured type="boolean">false</device-data-captured>
            </risk-data>
            <three-d-secure-info nil="true"/>
            <ships-from-postal-code nil="true"/>
            <shipping-amount nil="true"/>
            <discount-amount nil="true"/>
            <network-transaction-id>020180823053451</network-transaction-id>
          </transaction>
        </transactions>
        <status-history type="array">
          <status-event>
            <timestamp type="datetime">2018-08-23T05:34:51Z</timestamp>
            <status>Active</status>
            <user>Braintree-Go</user>
            <subscription-source>api</subscription-source>
            <balance>0.00</balance>
            <price>10.00</price>
            <currency-iso-code>USD</currency-iso-code>
            <plan-id>test_plan</plan-id>
          </status-event>
        </status-history>
      </subscription>
    headers:
      Cache-Control:
      - max-age=0, private, must-revalidate
      Content-Security-Policy:
      - frame-ancestors 'self'
      Content-Type:
      - application/xml; charset=utf-8
      Date:
      - Thu, 23 Aug 2018 05:34:52 GMT
      Etag:
      - W/"24b2ddbae15da2e4eda2c9753e417f08"
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains
      Vary:
      - Accept-Encoding
      X-Authentication:
      - basic_auth
      X-Broxyid:
      - 02-1535002491.634-107.3.151.90-2897258
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - SAMEORIGIN
      X-Request-Id:
      - 02-1535002491.634-107.3.151.90-2897258
      X-Runtime:
      - "0.321760"
      X-User:
      - kkf6b66dz8xy83p6
      X-Xss-Protection:
      - 1; mode=block
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: |-
      <subscription>
        <id>2fb72w</id>
        <options>
          <prorate-charges>true</prorate-charges>
          <revert-subscription-on-proration-failure>true</revert-subscription-on-proration-failure>
          <start-immediately>true</start-immediately>
        </options>
        <planId>test_plan_2</planId>
      </subscription>
    form: {}
    headers:
      Accept:
      - application/xml
      Authorization:
      - Basic amtxMjhwY3hqNHI4NWR3cjo2NjA2MmEzODc2ZTJkYzI5OGYyMTk1ZjBiZjE3M2Y1YQ==
      Content-Type:
      - application/xml
      User-Agent:
      - Braintree Go 0.20.0
      X-Apiversion:
      - "3"
    url: https://api.sandbox.braintreegateway.com:443/merchants/4ngqq224rnk6gvxh/subscriptions/2fb72w
    method: PUT
  response:
    body: |
      <?xml version="1.0" encoding="UTF-8"?>
      <subscription>
        <add-ons type="array">
          <add-on>
            <amount>10.00</amount>
            <current-billing-cycle type="integer">0</current-billing-cycle>
            <id>test_add_on</id>
            <name>test_add_on_name</name>
            <never-expires type="boolean">true</never-expires>
            <number-of-billing-cycles nil="true"/>
            <quantity type="integer">1</quantity>
          </add-on>
        </add-ons>
        <balance>0.00</balance>
        <billing-day-of-month type="integer">30</billing-day-of-month>
        <billing-period-end-date nil="true"/>
        <billing-period-start-date nil="true"/>
        <created-at type="datetime">2018-08-23T05:34:50Z</created-at>
        <updated-at type="datetime">2018-08-23T05:34:54Z</updated-at>
        <current-billing-cycle type="integer">0</current-billing-cycle>
        <days-past-due nil="true"/>
        <discounts type="array">
          <discount>
            <amount>10.00</amount>
            <current-billing-cycle type="integer">0</current-billing-cycle>
            <id>test_discount</id>
            <name>test_discount_name</name>
            <never-expires type="boolean">true</never-expires>
            <number-of-billing-cycles nil="true"/>
            <quantity type="integer">1</quantity>
          </discount>
        </discounts>
        <failure-count type="integer">0</failure-count>
        <first-billing-date type="date">2018-08-30</first-billing-date>
        <id>2fb72w</id>
        <merchant-account-id>bvps8ckgst59crzs</merchant-account-id>
        <never-expires type="boolean">false</never-expires>
        <next-bill-amount>1.00</next-bill-amount>
        <next-billing-period-amount>1.00</next-billing-period-amount>
        <next-billing-date type="date">2018-08-30</next-billing-date>
        <number-of-billing-cycles type="integer">2</number-of-billing-cycles>
        <paid-through-date nil="true"/>
        <payment-method-token>cswvch</payment-method-token>
        <plan-id>test_plan_2</plan-id>
        <price>1.00</price>
        <status>Active</status>
        <trial-duration type="integer">7</trial-duration>
        <trial-duration-unit>day</trial-duration-unit>
        <trial-period type="boolean">true</trial-period>
        <descriptor>
          <name>Company Name*Product 1</name>
          <phone>0000000000</phone>
          <url>example.com</url>
        </descriptor>
        <description nil="true"/>
        <transactions type="array"/>
        <status-history type="array">
          <status-event>
            <timestamp type="datetime">2018-08-23T05:34:54Z</timestamp>
            <status>Active</status>
            <user>Braintree-Go</user>
            <subscription-source>api</subscription-source>
            <balance>0.00</balance>
            <price>1.00</price>
            <currency-iso-code>USD</currency-iso-code>
            <plan-id>test_plan_2</plan-id>
          </status-event>
          <status-event>
            <timestamp type="datetime">2018-08-23T05:34:51Z</timestamp>
            <status>Active</status>
            <user>Braintree-Go</user>
            <subscription-source>api</subscription-source>
            <balance>0.00</balance>
            <price>1.00</price>
            <currency-iso-code>USD</currency-iso-code>
            <plan-id>test_plan</plan-id>
          </status-event>
        </status-history>
      </subscription>
    headers:
      Cache-Control:
      - max-age=0, private, must-revalidate
      Content-Security-Policy:
      - frame-ancestors 'self'
      Content-Type:
      - application/xml; charset=utf-8
      Date:
      - Thu, 23 Aug 2018 05:34:54 GMT
      Etag:
      - W/"53d7b597ecf0a170fdc4b2f5c415a082"
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains
      Vary:
      - Accept-Encoding
      X-Authentication:
      - basic_auth
      X-Broxyid:
      - 02-1535002491.081-107.3.151.90-2897235
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - SAMEORIGIN
      X-Request-Id:
      - 02-1535002491.081-107.3.151.90-2897235
      X-Runtime:
      - "3.096124"
      X-User:
      - kkf6b66dz8xy83p6
      X-Xss-Protection:
      - 1; mode=block
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: |-
      <subscription>
        <id>b7pc56</id>
        <options>
          <prorate-charges>true</prorate-charges>
          <revert-subscription-on-proration-failure>true</revert-subscription-on-proration-failure>
          <start-immediately>true</start-immediately>
        </options>
        <planId>test_plan_2</planId>
      </subscription>
    form: {}
    headers:
      Accept:
      - application/xml
      Authorization:
      - Basic amtxMjhwY3hqNHI4NWR3cjo2NjA2MmEzODc2ZTJkYzI5OGYyMTk1ZjBiZjE3M2Y1YQ==
      Content-Type:
      - application/xml
      User-Agent:
      - Braintree Go 0.20.0
      X-Apiversion:
      - "3"
    url: https://api.sandbox.braintreegateway.com:443/merchants/4ngqq224rnk6gvxh/subscriptions/b7pc56
    method: PUT
  response:
    body: |
      <?xml version="1.0" encoding="UTF-8"?>
      <subscription>
        <add-ons type="array">
          <add-on>
            <amount>10.00</amount>
            <current-billing-cycle type="integer">0</current-billing-cycle>
            <id>test_add_on</id>
            <name>test_add_on_name</name>
            <never-expires type="boolean">true</never-expires>
            <number-of-billing-cycles nil="true"/>
            <quantity type="integer">1</quantity>
          </add-on>
        </add-ons>
        <balance>0.00</balance>
        <billing-day-of-month type="integer">30</billing-day-of-month>
        <billing-period-end-date nil="true"/>
        <billing-period-start-date nil="true"/>
        <created-at type="datetime">2018-08-23T05:34:51Z</created-at>
        <updated-at type="datetime">2018-08-23T05:34:54Z</updated-at>
        <current-billing-cycle type="integer">0</current-billing-cycle>
        <days-past-due nil="true"/>
        <discounts type="array">
          <discount>
            <amount>10.00</amount>
            <current-billing-cycle type="integer">0</current-billing-cycle>
            <id>test_discount</id>
            <name>test_discount_name</name>
            <never-expires type="boolean">true</never-expires>
            <number-of-billing-cycles nil="true"/>
            <quantity type="integer">1</quantity>
          </discount>
        </discounts>
        <failure-count type="integer">0</failure-count>
        <first-billing-date type="date">2018-08-30</first-billing-date>
        <id>b7pc56</id>
        <merchant-account-id>bvps8ckgst59crzs</merchant-account-id>
        <never-expires type="boolean">true</never-expires>
        <next-bill-amount>1.00</next-bill-amount>
        <next-billing-period-amount>1.00</next-billing-period-amount>
        <next-billing-date type="date">2018-08-30</next-billing-date>
        <number-of-billing-cycles nil="true"/>
        <paid-through-date nil="true"/>
        <payment-method-token>3zjq97</payment-method-token>
        <plan-id>test_plan_2</plan-id>
        <price>1.00</price>
        <status>Active</status>
        <trial-duration type="integer">7</trial-duration>
        <trial-duration-unit>day</trial-duration-unit>
        <trial-period type="boolean">true</trial-period>
        <descriptor>
          <name>Company Name*Product 1</name>
          <phone>0000000000</phone>
          <url>example.com</url>
        </descriptor>
        <description nil="true"/>
        <transactions type="array"/>
        <status-history type="array">
          <status-event>
            <timestamp type="datetime">2018-08-23T05:34:54Z</timestamp>
            <status>Active</status>
            <user>Braintree-Go</user>
            <subscription-source>api</subscription-source>
            <balance>0.00</balance>
            <price>1.00</price>
            <currency-iso-code>USD</currency-iso-code>
            <plan-id>test_plan_2</plan-id>
          </status-event>
          <status-event>
            <timestamp type="datetime">2018-08-23T05:34:51Z</timestamp>
            <status>Active</status>
            <user>Braintree-Go</user>
            <subscription-source>api</subscription-source>
            <balance>0.00</balance>
            <price>1.00</price>
            <currency-iso-code>USD</currency-iso-code>
            <plan-id>test_plan</plan-id>
          </status-event>
        </status-history>
      </subscription>
    headers:
      Cache-Control:
      - max-age=0, private, must-revalidate
      Content-Security-Policy:
      - frame-ancestors 'self'
      Content-Type:
      - application/xml; charset=utf-8
      Date:
      - Thu, 23 Aug 2018 05:34:54 GMT
      Etag:
      - W/"9e17003b7640c41cf802ef16bf1bd837"
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains
      Vary:
      - Accept-Encoding
      X-Authentication:
      - basic_auth
      X-Broxyid:
      - 02-1535002491.168-107.3.151.90-2897238
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - SAMEORIGIN
      X-Request-Id:
      - 02-1535002491.168-107.3.151.90-2897238
      X-Runtime:
      - "3.123373"
      X-User:
      - kkf6b66dz8xy83p6
      X-Xss-Protection:
      - 1; mode=block
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: |-
      <subscription>
        <id>k9k9kr</id>
        <options>
          <prorate-charges>true</prorate-charges>
          <revert-subscription-on-proration-failure>true</revert-subscription-on-proration-failure>
          <start-immediately>true</start-immediately>
        </options>
        <planId>test_plan_2</planId>
      </subscription>
    form: {}
    headers:
      Accept:
      - application/xml
      Authorization:
      - Basic amtxMjhwY3hqNHI4NWR3cjo2NjA2MmEzODc2ZTJkYzI5OGYyMTk1ZjBiZjE3M2Y1YQ==
      Content-Type:
      - application/xml
      User-Agent:
      - Braintree Go 0.20.0
      X-Apiversion:
      - "3"
    url: https://api.sandbox.braintreegateway.com:443/merchants/4ngqq224rnk6gvxh/subscriptions/k9k9kr
    method: PUT
  response:
    body: |
      <?xml version="1.0" encoding="UTF-8"?>
      <subscription>
        <add-ons type="array">
          <add-on>
            <amount>10.00</amount>
            <current-billing-cycle type="integer">0</current-billing-cycle>
            <id>test_add_on</id>
            <name>test_add_on_name</name>
            <never-expires type="boolean">true</never-expires>
            <number-of-billing-cycles nil="true"/>
            <quantity type="integer">1</quantity>
          </add-on>
        </add-ons>
        <balance>0.00</balance>
        <billing-day-of-month type="integer">31</billing-day-of-month>
        <billing-period-end-date nil="true"/>
        <billing-period-start-date nil="true"/>
        <created-at type="datetime">2018-08-23T05:34:50Z</created-at>
        <updated-at type="datetime">2018-08-23T05:34:54Z</updated-at>
        <current-billing-cycle type="integer">0</current-billing-cycle>
        <days-past-due nil="true"/>
        <discounts type="array">
          <discount>
            <amount>10.00</amount>
            <current-billing-cycle type="integer">0</current-billing-cycle>
            <id>test_discount</id>
            <name>test_discount_name</name>
            <never-expires type="boolean">true</never-expires>
            <number-of-billing-cycles nil="true"/>
            <quantity type="integer">1</quantity>
          </discount>
        </discounts>
        <failure-count type="integer">0</failure-count>
        <first-billing-date type="date">2018-12-31</first-billing-date>
        <id>k9k9kr</id>
        <merchant-account-id>bvps8ckgst59crzs</merchant-account-id>
        <never-expires type="boolean">false</never-expires>
        <next-bill-amount>1.00</next-bill-amount>
        <next-billing-period-amount>1.00</next-billing-period-amount>
        <next-billing-date type="date">2018-12-31</next-billing-date>
        <number-of-billing-cycles type="integer">2</number-of-billing-cycles>
        <paid-through-date nil="true"/>
        <payment-method-token>hq3xdn</payment-method-token>
        <plan-id>test_plan_2</plan-id>
        <price>1.00</price>
        <status>Pending</status>
        <trial-duration nil="true"/>
        <trial-duration-unit nil="true"/>
        <trial-period type="boolean">false</trial-period>
        <descriptor>
          <name>Company Name*Product 1</name>
          <phone>0000000000</phone>
          <url>example.com</url>
        </descriptor>
        <description nil="true"/>
        <transactions type="array"/>
        <status-history type="array">
          <status-event>
            <timestamp type="datetime">2018-08-23T05:34:54Z</timestamp>
            <status>Pending</status>
            <user>Braintree-Go</user>
            <subscription-source>api</subscription-source>
            <balance>0.00</balance>
            <price>1.00</price>
            <currency-iso-code>USD</currency-iso-code>
            <plan-id>test_plan_2</plan-id>
          </status-event>
          <status-event>
            <timestamp type="datetime">2018-08-23T05:34:50Z</timestamp>
            <status>Pending</status>
            <user>Braintree-Go</user>
            <subscription-source>api</subscription-source>
            <balance>0.00</balance>
            <price>1.00</price>
            <currency-iso-code>USD</currency-iso-code>
            <plan-id>test_plan</plan-id>
          </status-event>
        </status-history>
      </subscription>
    headers:
      Cache-Control:
      - max-age=0, private, must-revalidate
      Content-Security-Policy:
      - frame-ancestors 'self'
      Content-Type:
      - application/xml; charset=utf-8
      Date:
      - Thu, 23 Aug 2018 05:34:54 GMT
      Etag:
      - W/"abe11aa86fbfca5dd534ebdbb3a15069"
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains
      Vary:
      - Accept-Encoding
      X-Authentication:
      - basic_auth
      X-Broxyid:
      - 02-1535002490.894-107.3.151.90-6932845
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - SAMEORIGIN
      X-Request-Id:
      - 02-1535002490.894-107.3.151.90-6932845
      X-Runtime:
      - "3.799539"
      X-User:
      - kkf6b66dz8xy83p6
      X-Xss-Protection:
      - 1; mode=block
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: |-
      <subscription>
        <id>g4vf6b</id>
        <options>
          <prorate-charges>true</prorate-charges>
          <revert-subscription-on-proration-failure>true</revert-subscription-on-proration-failure>
          <start-immediately>true</start-immediately>
        </options>
        <planId>test_plan_2</planId>
      </subscription>
    form: {}
    headers:
      Accept:
      - application/xml
      Authorization:
      - Basic amtxMjhwY3hqNHI4NWR3cjo2NjA2MmEzODc2ZTJkYzI5OGYyMTk1ZjBiZjE3M2Y1YQ==
      Content-Type:
      - application/xml
      User-Agent:
      - Braintree Go 0.20.0
      X-Apiversion:
      - "3"
    url: https://api.sandbox.braintreegateway.com:443/merchants/4ngqq224rnk6gvxh/subscriptions/g4vf6b
    method: PUT
  response:
    body: |
      <?xml version="1.0" encoding="UTF-8"?>
      <subscription>
        <add-ons type="array">
          <add-on>
            <amount>10.00</amount>
            <current-billing-cycle type="integer">0</current-billing-cycle>
            <id>test_add_on</id>
            <name>test_add_on_name</name>
            <never-expires type="boolean">true</never-expires>
            <number-of-billing-cycles nil="true"/>
            <quantity type="integer">1</quantity>
          </add-on>
        </add-ons>
        <balance>0.00</balance>
        <billing-day-of-month type="integer">31</billing-day-of-month>
        <billing-period-end-date nil="true"/>
        <billing-period-start-date nil="true"/>
        <created-at type="datetime">2018-08-23T05:34:51Z</created-at>
        <updated-at type="datetime">2018-08-23T05:34:55Z</updated-at>
        <current-billing-cycle type="integer">0</current-billing-cycle>
        <days-past-due nil="true"/>
        <discounts type="array">
          <discount>
            <amount>10.00</amount>
            <current-billing-cycle type="integer">0</current-billing-cycle>
            <id>test_discount</id>
            <name>test_discount_name</name>
            <never-expires type="boolean">true</never-expires>
            <number-of-billing-cycles nil="true"/>
            <quantity type="integer">1</quantity>
          </discount>
        </discounts>
        <failure-count type="integer">0</failure-count>
        <first-billing-date type="date">2018-12-31</first-billing-date>
        <id>g4vf6b</id>
        <merchant-account-id>bvps8ckgst59crzs</merchant-account-id>
        <never-expires type="boolean">true</never-expires>
        <next-bill-amount>1.00</next-bill-amount>
        <next-billing-period-amount>1.00</next-billing-period-amount>
        <next-billing-date type="date">2018-12-31</next-billing-date>
        <number-of-billing-cycles nil="true"/>
        <paid-through-date nil="true"/>
        <payment-method-token>7wqsbc</payment-method-token>
        <plan-id>test_plan_2</plan-id>
        <price>1.00</price>
        <status>Pending</status>
        <trial-duration nil="true"/>
        <trial-duration-unit nil="true"/>
        <trial-period type="boolean">false</trial-period>
        <descriptor>
          <name>Company Name*Product 1</name>
          <phone>0000000000</phone>
          <url>example.com</url>
        </descriptor>
        <description nil="true"/>
        <transactions type="array"/>
        <status-history type="array">
          <status-event>
            <timestamp type="datetime">2018-08-23T05:34:55Z</timestamp>
            <status>Pending</status>
            <user>Braintree-Go</user>
            <subscription-source>api</subscription-source>
            <balance>0.00</balance>
            <price>1.00</price>
            <currency-iso-code>USD</currency-iso-code>
            <plan-id>test_plan_2</plan-id>
          </status-event>
          <status-event>
            <timestamp type="datetime">2018-08-23T05:34:51Z</timestamp>
            <status>Pending</status>
            <user>Braintree-Go</user>
            <subscription-source>api</subscription-source>
            <balance>0.00</balance>
            <price>1.00</price>
            <currency-iso-code>USD</currency-iso-code>
            <plan-id>test_plan</plan-id>
          </status-event>
        </status-history>
      </subscription>
    headers:
      Cache-Control:
      - max-age=0, private, must-revalidate
      Content-Security-Policy:
      - frame-ancestors 'self'
      Content-Type:
      - application/xml; charset=utf-8
      Date:
      - Thu, 23 Aug 2018 05:34:55 GMT
      Etag:
      - W/"68a9b5ff85c31d1e488dd74b9cb52c54"
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains
      Vary:
      - Accept-Encoding
      X-Authentication:
      - basic_auth
      X-Broxyid:
      - 02-1535002491.470-107.3.151.90-2897253
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - SAMEORIGIN
      X-Request-Id:
      - 02-1535002491.470-107.3.151.90-2897253
      X-Runtime:
      - "4.074106"
      X-User:
      - kkf6b66dz8xy83p6
      X-Xss-Protection:
      - 1; mode=block
    status: 200 OK
    code: 200
    duration: ""
